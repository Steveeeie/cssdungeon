<!DOCTYPE html>
<html>
  <head>
    <title>CSS Dungeon</title>
    <link href="css/cssdungeon.min.css" rel="stylesheet"/>
  </head>

  <body>

    <div class="scene">

      <div class="room">
        <div class="floor" data-obj-type="box"></div>
        <div class="side side-top">
          <div class="wall" data-obj-type="box"></div>
        </div>
        <div class="side side-bottom">
          <div class="wall" data-obj-type="box"></div>
        </div>
        <div class="side side-left">
          <div class="wall" data-obj-type="box"></div>
        </div>
        <div class="side side-right">
          <div class="wall-door wall-door-left" data-obj-type="box"></div>
          <div class="wall-door wall-door-right" data-obj-type="box"></div>
          <div class="pillar pillar-door-left" data-obj-type="box"></div>
          <div class="pillar pillar-door-right" data-obj-type="box"></div>
          <div class="door" data-obj-type="box"></div>
        </div>
        <div class="pillar pillar-top-left" data-obj-type="box"></div>
        <div class="pillar pillar-top-right" data-obj-type="box"></div>
        <div class="pillar pillar-bottom-left" data-obj-type="box"></div>
        <div class="pillar pillar-bottom-right" data-obj-type="box"></div>
      </div>

    </div>

    <script>
      (function(){

        //Append faces to all boxes.
        var boxes = document.querySelectorAll('[data-obj-type="box"]');
        for (var box = 0; box < boxes.length; box++) {
          var faces = ['top', 'bottom', 'front', 'back', 'left', 'right'];
          for (var face = 0; face < faces.length; face++) {
            var faceMarkup = '<div class="face face-' + faces[face] + '"></div>';
            boxes[box].insertAdjacentHTML('beforeend', faceMarkup);
          }
        }

        //Open door on click.
        var doors = document.querySelectorAll('.door');
        for (var i = 0; i < doors.length; i++) {
          doors[i].onclick = function(){
            this.classList.toggle('door--open')
          };
        }

      })();
    </script>

  </body>
</html>
